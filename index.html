<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Interactive Geomagnetic Field Maps</title>-->
<!--    <style>-->
<!--        body { font-family: Arial, sans-serif; margin: 2em; background-color: #f4f4f4; color: #333; }-->
<!--        .main-container { max-width: 1000px; margin: auto; }-->
<!--        .controls { margin-bottom: 20px; padding: 15px; background-color: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); display: flex; flex-wrap: wrap; gap: 20px; align-items: center; }-->
<!--        .control-group { display: flex; flex-direction: column; }-->
<!--        .control-group label { margin-bottom: 5px; font-size: 0.9em; color: #555; }-->
<!--        .controls input[type="number"], .controls select { padding: 8px; border: 1px solid #ddd; border-radius: 4px; width: 110px; }-->
<!--        .controls button { padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1em; align-self: flex-end; }-->
<!--        .controls button:hover { background-color: #0056b3; }-->
<!--        .map-container { position: relative; margin-bottom: 30px; border: 1px solid #ccc; background-color: #fff; border-radius: 8px; overflow: hidden;}-->
<!--        h1 { text-align: center; color: #0056b3; }-->
<!--        #status { width: 100%; text-align: center; margin-top: 10px; font-style: italic; color: #555; }-->
<!--    </style>-->
<!--    &lt;!&ndash; Use local copies instead of CDN &ndash;&gt;-->
<!--    <script src="libs/d3.min.js"></script>-->
<!--    <script src="libs/topojson.min.js"></script>-->
<!--    <script src="libs/d3-geo-projection.min.js"></script>-->
<!--</head>-->
<!--<body>-->
<!--<div class="main-container">-->
<!--    <h1>Interactive Geomagnetic Field Maps</h1>-->

<!--    <div class="controls">-->
<!--        <div class="control-group">-->
<!--            <label for="fieldSelect">Field</label>-->
<!--            <select id="fieldSelect">-->
<!--                <option value="declination">Declination</option>-->
<!--                <option value="inclination">Inclination</option>-->
<!--                <option value="totalfield">Total Intensity</option>-->
<!--            </select>-->
<!--        </div>-->
<!--        <div class="control-group">-->
<!--            <label for="epochInput">Epoch (e.g., 2025.0)</label>-->
<!--            <input type="number" id="epochInput" value="2025.0" step="0.1" min="0">-->
<!--        </div>-->
<!--        <div class="control-group">-->
<!--            <label for="altitudeInput">Altitude (km)</label>-->
<!--            <input type="number" id="altitudeInput" value="0" step="10" min="0">-->
<!--        </div>-->
<!--        <div class="control-group">-->
<!--            <label for="gridStepInput">Grid Step Resolution (°)</label>-->
<!--            <input type="number" id="gridStepInput" value="2" step="1" min="1" max="30">-->
<!--        </div>-->
<!--        <button id="renderButton">Render Map</button>-->
<!--        <button id="smoothingButton">Smoothing: On</button>-->
<!--        <div id="status">Enter parameters and click "Render Map".</div>-->
<!--    </div>-->

<!--    <div class="map-container">-->
<!--        <svg id="geomag-map"></svg>-->
<!--    </div>-->
<!--</div>-->

<!--    &lt;!&ndash; Scripts are loaded with defer. The visualizer will start itself. &ndash;&gt;-->
<!--    <script src="geomag.js" defer></script>-->
<!--    <script src="geomag_visualizer.js" defer></script>-->
<!--    &lt;!&ndash; No inline script block is needed anymore! &ndash;&gt;-->

<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Geomagnetic Field Maps</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2em; background-color: #f4f4f4; color: #333; }
        .main-container { max-width: 1000px; margin: auto; }
        .controls { margin-bottom: 20px; padding: 15px; background-color: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); display: flex; flex-wrap: wrap; gap: 20px; align-items: center; }
        .control-group { display: flex; flex-direction: column; }
        .control-group label { margin-bottom: 5px; font-size: 0.9em; color: #555; }
        .controls input[type="number"], .controls select { padding: 8px; border: 1px solid #ddd; border-radius: 4px; width: 110px; }
        .controls button { padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1em; align-self: flex-end; }
        .controls button:hover { background-color: #0056b3; }
        .map-container { position: relative; margin-bottom: 30px; border: 1px solid #ccc; background-color: #fff; border-radius: 8px; overflow: hidden;}
        h1 { text-align: center; color: #0056b3; }
        #status { width: 100%; text-align: center; margin-top: 10px; font-style: italic; color: #555; }
    </style>
    <!-- Use local copies instead of CDN -->
    <script src="libs/d3.min.js"></script>
    <script src="libs/topojson.min.js"></script>
    <script src="libs/d3-geo-projection.min.js"></script>
</head>
<body>
<div class="main-container">
    <h1>Interactive Geomagnetic Field Maps</h1>

    <div class="controls">
        <div class="control-group">
            <label for="fieldSelect">Field</label>
            <select id="fieldSelect">
                <option value="declination">Declination</option>
                <option value="inclination">Inclination</option>
                <option value="totalfield">Total Intensity</option>
            </select>
        </div>
        <div class="control-group">
            <label for="epochInput">Epoch (e.g., 2025.0)</label>
            <input type="number" id="epochInput" value="2025.0" step="0.1" min="0">
        </div>
        <div class="control-group">
            <label for="altitudeInput">Altitude (km)</label>
            <input type="number" id="altitudeInput" value="0" step="10" min="0">
        </div>
        <div class="control-group">
            <label for="gridStepInput">Grid Step Resolution (°)</label>
            <input type="number" id="gridStepInput" value="2" step="1" min="1" max="30">
        </div>
        <button id="renderButton">Render Map</button>
        <button id="smoothingButton">Smoothing: On</button>
        <button id="uncertaintyButton">Uncertainty: Off</button>
        <div id="status">Enter parameters and click "Render Map".</div>
    </div>

    <div class="map-container">
        <svg id="geomag-map"></svg>
    </div>
</div>

    <!-- Scripts are loaded with defer. The visualizer will start itself. -->
    <script src="geomag.js" defer></script>
    <script src="geomag_visualizer.js" defer></script>
    <!-- No inline script block is needed anymore! -->

</body>
</html>